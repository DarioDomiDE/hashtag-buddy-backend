namespace Instaq.Crawler.Tests.Logic
{
    using System;
    using System.Collections.Generic;
    using System.Linq;

    using AutoTagger.Common;
    using AutoTagger.Contract;
    using AutoTagger.Crawler.V4.Crawler;
    using AutoTagger.Crawler.V4.Requests;

    using Newtonsoft.Json;

    using NSubstitute;

    using NUnit.Framework;

    class ImagePageLogic_WhenGettingImages
    {
        private ImagePageLogic logic;
        private ICrawlerSettings settings;

        private dynamic nodes;
        private string jsonOneImage;

        [SetUp]
        public void Setup()
        {

            var json = "[{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1859593211102936307\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"FUCK! Schon wieder 1 sch\u00f6ner Festiwal Sommer vorbei. Und es war sooo GEIL! ^.^ Ihr seit alle so fertig und komplett im Arsch! Danke liebe Alle, die mit am Start waren, und die ich kennen gelernt habe :) #hierNochnKlischeeSpruchEinf\u00fcgen\"}}]},\"shortcode\":\"BnOmixGhLzz\",\"edge_media_to_comment\":{\"count\":4},\"comments_disabled\":false,\"taken_at_timestamp\":1535900807,\"dimensions\":{\"height\":1350,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/559fe5caf0273d1f0032cd962bb9ca09/5C3BCAA4/t51.2885-15/e35/40747690_739744336373924_2008795589189304320_n.jpg\",\"edge_liked_by\":{\"count\":22},\"edge_media_preview_like\":{\"count\":22},\"gating_info\":null,\"media_preview\":\"ACEqlmVVwqjcx/hH6E+n49qh3sBtLsxHJVPur/vN3qKNxEDvJZjyQP5s39P0qZiQw6KuACucZX3HYnioV3o9jVR6q1/uX49fT7x0bK3LDb2xx36YBH8vzprw7/u49P8AOT/LNT5CrgEY/wBrg+2RyOncfjVKQEd8g8ZBBHvkjp/hWll0f3gpuLs9PT9Uxfsb+v8AOikwfVf++h/hRU2fdfc/8y/av+b8F/kRwIQMYGTzg/jz6/mKmEcY5f8AP3/Qj9asKWdRkKxA9s/XIwc49DTBsz1IH8Q5IGemQef8aL9/6/QFK+i+636rX8BjSOowDvTOBnkfmcf0ps2QMEAAHOMEH9f58/WpXt1cAKyMB0wcHn1B/wA44qGRQVKZLnOcehHB4HHSnden9f12Jtqklfuuq89f+CVNy0U7yT/zzb9aKXMu6/r5mt12/wDSf/kR0MiYwSUOcjuv4jr+IqWJzvPmZKkbQRyPrk9u/PTjjNZy1PGxHQkUJ30LlBW5v6+/cs3A2sQGXDYIC8jHuOg6c+/PSlafC4DbcAckkZ/AD8xn0qKX5cEcHanT6VAWJJySaqy6nK0S7x/fT9aKr0VRFl/Vj//Z\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/68fb2fb26a09968b6ae9f35f012ab5e3/5C2584E7/t51.2885-15/sh0.08/e35/c0.135.1080.1080/s640x640/40747690_739744336373924_2008795589189304320_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/a65a5887937c34997c139cf0094568ae/5C26BDFC/t51.2885-15/e35/c0.135.1080.1080/s150x150/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/e728d46f9ccbfcec69b8d9d285f96548/5C2688B6/t51.2885-15/e35/c0.135.1080.1080/s240x240/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/58f7c86361ad60e0ebde86d485db59fb/5C16DE0C/t51.2885-15/e35/c0.135.1080.1080/s320x320/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/891245818c984c08c782fb306ea2fc89/5C35D056/t51.2885-15/e35/c0.135.1080.1080/s480x480/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/68fb2fb26a09968b6ae9f35f012ab5e3/5C2584E7/t51.2885-15/sh0.08/e35/c0.135.1080.1080/s640x640/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}},{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1858995325860407024\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"Danke f\u00fcr die 1horn g\u00f6nnung, lieber @bjoern_93\"}}]},\"shortcode\":\"BnMemZFBWbw\",\"edge_media_to_comment\":{\"count\":1},\"comments_disabled\":false,\"taken_at_timestamp\":1535829533,\"dimensions\":{\"height\":1080,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/eca121fe7098d23217e5796579d1c133/5C3795D8/t51.2885-15/e35/38842359_2041304552617068_3154341754480623616_n.jpg\",\"edge_liked_by\":{\"count\":20},\"edge_media_preview_like\":{\"count\":20},\"gating_info\":null,\"media_preview\":\"ACoqdLFCzfLwuegOc/n09OKdc2gALAZO3jHHPYEZPI9e/estGkU4BwQeg6/nWlLdkrlRjIxg+vrSsyk0Zu5h8vpwaYMDIx19e/4/0q9FbLjd97PqT+fH9alW3jjXBCt7kcn6/wD68UuVkGUQcgH/APX+NQ7h6VcliKOcYwT068fypu32/wA/lTSE3YtxqDu5C4/X6n061owNa44BdvQ8n8Og/GqsEOxicZXP6YGP6gVNdyiNRJt+5j078Y+tD3LUdLsgKvnCgnBxQZSSe7c/nS2V152ezZ5AOOD3/DpWfNcq8h2gjLHn+v4//Xo1bsDSSTLIs227t+W5OMdfxqLcPX9DVv7RmInOGI4+tU/tEfc8/Smkwk1p1NC3tJFUSOSZOcrnoD29Mjqagv1Z0xyMc898dv8APetG74ic9wpI9j61hvIzg7iW4XqSexoa1GnpYit7d2ztbYdpY9eg659PzqJ18uTGc4wc+oPQ/jVwDCEjg7T+oT/E1nqcyHPPNNEsu/Lgk8cHH1qptNTyfdNQitSEf//Z\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/7fce7de0a3cb4f2d2ddd201219086c01/5C2B8A62/t51.2885-15/sh0.08/e35/s640x640/38842359_2041304552617068_3154341754480623616_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/0810ee530d0f44f5701f05e7781afbbf/5C16B4E7/t51.2885-15/e35/s150x150/38842359_2041304552617068_3154341754480623616_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/61ff51e1b45bdd635c86d8e1b63b7850/5C22D5E1/t51.2885-15/e35/s240x240/38842359_2041304552617068_3154341754480623616_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/f6bd753018ca5850bd90b352373317b0/5C256A9F/t51.2885-15/e35/s320x320/38842359_2041304552617068_3154341754480623616_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/d3aa8a4bf9d37ae44abda76ee72ce4c2/5C320CD8/t51.2885-15/e35/s480x480/38842359_2041304552617068_3154341754480623616_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/7fce7de0a3cb4f2d2ddd201219086c01/5C2B8A62/t51.2885-15/sh0.08/e35/s640x640/38842359_2041304552617068_3154341754480623616_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}},{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1858993256994951088\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"Reload hart mit @fuck_this_is_not_a_dream, @alishany und @themoonyloony :D es war sooo sch\u00f6n mit euch allen ^.^\"}}]},\"shortcode\":\"BnMeISTB8-w\",\"edge_media_to_comment\":{\"count\":0},\"comments_disabled\":false,\"taken_at_timestamp\":1535829287,\"dimensions\":{\"height\":1080,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/bb1ba9a12ba12cad66c5de53d31a5401/5C255C8E/t51.2885-15/e35/39597754_308514369702396_7723947581717348352_n.jpg\",\"edge_liked_by\":{\"count\":15},\"edge_media_preview_like\":{\"count\":15},\"gating_info\":null,\"media_preview\":\"ACoqtz3GRsIwF7kgDP1P8hTRwH2MMsnyn3+nNV44hOxkck46emaYbUx/OhwV5xWbetzZX5bFdJZtwB2nIOeMYPp79unHNbjzfIoPGRk/THc1RghziRAAeDyehx6c9/Wknl8w7JAVI6le4/8Ar46001Z9yWnddiTzkBwML6dv1qQXpHBXkdaoGbIUhAduAM85/wD1fiKt+ancc1OxTVyJ0O0Kjbce/wDnrTZPMjwudwI5J96jGCSxycdh6GqzyMvC5PsfT0oHexejcqMk/LyMDk/X25pjEIyM53gnawIwcH15NQwzqPvgqy+2f8+1RXcwfCIMDO4n1NAm9CxcSrBIUh5A4LHnB74+lUvPPaoZXZGbHRv89P61XyK0stzNt7HQLYO5Bdto9F5P59B+tW44Y4Rhc59TzUoqOToaVguQzRrITj7y/wCHSsuWJwdw7D9M1og/M/4fypH7/hRYLmDOjByG7Yx9O1Q4q9e/eH+6P61EAMVQj//Z\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/3f2feba561434d7a6b2a4d57a68f162f/5C22A46B/t51.2885-15/sh0.08/e35/s640x640/39597754_308514369702396_7723947581717348352_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/030fa337b75845d38d3340e4ba415748/5C2A5DCC/t51.2885-15/e35/s150x150/39597754_308514369702396_7723947581717348352_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/104911efec2f89321256fcf26142cc59/5C1DAE86/t51.2885-15/e35/s240x240/39597754_308514369702396_7723947581717348352_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/e1aaf2eca2166e8004bc46d1dae4c9c2/5C1ADF3C/t51.2885-15/e35/s320x320/39597754_308514369702396_7723947581717348352_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/df79d1638e39f67803859a92655ee6b3/5C29E966/t51.2885-15/e35/s480x480/39597754_308514369702396_7723947581717348352_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/3f2feba561434d7a6b2a4d57a68f162f/5C22A46B/t51.2885-15/sh0.08/e35/s640x640/39597754_308514369702396_7723947581717348352_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}},{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1855298458530237365\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"Nette Menschis (Annika, Alisha, Philipp und Lina) mit Marcel, Calvin und Leon aufm Reload kennen gelernt ^.^ vllt sieht man sich ja mal wieder :)\"}}]},\"shortcode\":\"Bm_WB5FBku1\",\"edge_media_to_comment\":{\"count\":3},\"comments_disabled\":false,\"taken_at_timestamp\":1535388832,\"dimensions\":{\"height\":1080,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/1f5986c4a9bb546e638359a2ed52eead/5C240029/t51.2885-15/e35/39960659_2145946382398186_634169023814172672_n.jpg\",\"edge_liked_by\":{\"count\":23},\"edge_media_preview_like\":{\"count\":23},\"gating_info\":null,\"media_preview\":\"ACoqsW+6eMTOSmQcAcfjnv0OKYzfLkjerdUI4f8A3fRvQ+nXPWqbJ92NC2NwUjJ5GeR6fWtaWElhIcYHUDpn1HuP5UneIotTV9jGR3tWZog2xfvxN1Ueox1H+0PxHetiGZJ13ocj9QfQ0y2LSyOyrxwCW6ng4x7d6pvbPE3mQYjk/ijPAb6D3/L0xTTG0aynFWhNWXa3S3Ax911+8h6j/Ef5NWqZJkwTJvI5JXjgZAJ6/jV9JcKeDx1J7+/pWJZzrANrAgsc7vf3HpWi1xHMpVDubHOM/ng1Dd9WOMeVWRatrtApPQZ5J9eg5/L86aJ1nII3EDnDY4Pb8B7daqlWK7DjBOT0wcfh0qVQW4Q4Pp/npRqVohJbLzT5gYhgMh/RvTHcfTtUfn3i8eWrY4znr79e9SGdUJjZwFGARk7txPp+mep69KkNv/0zc++7/wCypXtoO19TnCu4k9h1Pv6Vftowg3twMcf4/wCe1UU+7WnKMIo7ZAx+FHkPZXLIbI3dB1Ppj1rPgvFWRnJ2jHHvj29Tx+FTXxIg44yQKxqa1E9DRsIvtEwd+mSSfVuuP6/hXT4+tZOnqPKXj3/WqUs8gdgGb7x7n1+tTcdj/9k=\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/35e6de064f0612bf19c0aa43e80f5d2e/5C3AF7CC/t51.2885-15/sh0.08/e35/s640x640/39960659_2145946382398186_634169023814172672_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/6c9ee30082820366b16eb350fedc4ece/5C35E86B/t51.2885-15/e35/s150x150/39960659_2145946382398186_634169023814172672_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/084796cad60e9b4dc38ef725264f033d/5C175F21/t51.2885-15/e35/s240x240/39960659_2145946382398186_634169023814172672_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/37a8c55c8b815b170a1eddc4dc0279a0/5C26099B/t51.2885-15/e35/s320x320/39960659_2145946382398186_634169023814172672_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/26579fa9f3d10924dd5bd5cdc3a3db69/5C1C80C1/t51.2885-15/e35/s480x480/39960659_2145946382398186_634169023814172672_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/35e6de064f0612bf19c0aa43e80f5d2e/5C3AF7CC/t51.2885-15/sh0.08/e35/s640x640/39960659_2145946382398186_634169023814172672_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}},{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1845267174873406067\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"#outfitinspiration #fashionstyle #festivaloutfit #festivalmakeup #gaycouple #fashionable #fashiongram #influencerlife #girlpower #pinkgirl\"}}]},\"shortcode\":\"BmbtLgKBJpz\",\"edge_media_to_comment\":{\"count\":1},\"comments_disabled\":false,\"taken_at_timestamp\":1534193010,\"dimensions\":{\"height\":1080,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/510205b991e10a6a2b34d997f35874a0/5C191F1F/t51.2885-15/e35/38162664_248505052440749_7742735705700302848_n.jpg\",\"edge_liked_by\":{\"count\":40},\"edge_media_preview_like\":{\"count\":40},\"gating_info\":null,\"media_preview\":\"ACoqrKdoVl4BOxx9eh+lPfcJNiEFwMDb7fX2/CpxbsjhsYHoe4HQ++P5VO8bPnACAgYI+9nuPp3rrur3OVaqz1FA8yDbIRls4xz0+n0qBMBQiEr2ycZOPUen+etNRSNzbsIBhiMHJBz09j9euKkRNy7o1ZxyRnC4z2Ge1K6TfN/wByjJpKGgpOwF1AOQcg8j3z7A/pWDhvp7Y/8ArVuozKwz8qsxyv8AwE8kn1479hWf9pjH8NKO7tsaO8Urq78jdZgPnJ+VQcntxUUQmn+dj5adlxkke/pVWaT5CXHTa2R0Iz09O2PXuaddX0iIDEDlu+M49Bj1NZWb2L0jvuOmSKJtjkAswJHYj39Pp+pq8Zhg7PmI7CszyY32yyA+aBlhzg49f8BUyv5S54B7k9Mdvy/Q0nqXFO13oNuYGuBjJUnkZ9R2/H9KyQkWBudQe4w3XvW2spfJGSo/i6Anvj/EcehrLOlZ5D8H1FXF20bsEl5XLd6x8otxgkEY456YI7DGQaLOZXXCAg9cdfY4/wAKL3/Un2X+oqrpX3m+g/nVW91+Rmndpl9trnliuevb/wDVmpVCSfux/DyCOo+nYj1/WoZ1G7oPypsBIn2jp6dulZpGsnZfMWYtESpySRwe2Pb0x6UquMClmOZvw/qar1Ja/wAj/9k=\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/921a0caf7444901765e0490b0ba2ade4/5C19A8FA/t51.2885-15/sh0.08/e35/s640x640/38162664_248505052440749_7742735705700302848_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/bc9cb83cca949ea3f8751555f029c756/5C1CC45D/t51.2885-15/e35/s150x150/38162664_248505052440749_7742735705700302848_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/c731809e4e115ed6295d4faa6f55b626/5C1D5017/t51.2885-15/e35/s240x240/38162664_248505052440749_7742735705700302848_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/4a034e3c5b3b82ee03eeed79d2c964b4/5C199CAD/t51.2885-15/e35/s320x320/38162664_248505052440749_7742735705700302848_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/593f0b4391ea78c6eed91780590a664b/5C1492F7/t51.2885-15/e35/s480x480/38162664_248505052440749_7742735705700302848_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/921a0caf7444901765e0490b0ba2ade4/5C19A8FA/t51.2885-15/sh0.08/e35/s640x640/38162664_248505052440749_7742735705700302848_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}},{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1845260517716006133\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"Wutzrock mit @baklashkin1307 und Kev\"}}]},\"shortcode\":\"BmbrqoMhBT1\",\"edge_media_to_comment\":{\"count\":2},\"comments_disabled\":false,\"taken_at_timestamp\":1534192217,\"dimensions\":{\"height\":1211,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/c12ea1b3caa24094fbd0e4c86aefd1e8/5C26B873/t51.2885-15/e35/38236747_283239519125677_4147754637639811072_n.jpg\",\"edge_liked_by\":{\"count\":18},\"edge_media_preview_like\":{\"count\":18},\"gating_info\":null,\"media_preview\":\"ACUqVLfa248AY5Pr3x7e9Omyh+blT3HUVMSLgY+7g9fpULybfkIJXpn1/wA/pWZrykJmaMjHJGcge3rT/tTMuwnaM5A/p9M1YKpsL42lR1Gf1HoaS2EduuWXc38R64PoPpRtsZcruPt78xja5z9c5oqfzLeTkhSfcDNFO47MxXvVb7oJP5fmakModdrc49PX0qpDb7m+bJGD0/LI+lELiFij8EH6g5x/+um12KUm3qbDEMjKCSWCgA/gT/8AXp8cqfcByR1qitwsk4KnIC4HGMHv/wDrq4rq+cjqMZHvU7FrXUtBVPYH8KKqG4jtAFZsZ7deKKYrlCG5CAoxwB91qsQ2cd5iV8jsAOM++f5VkT9vpXS2/EK4/uj+VUZGebOK3bfHuYD1x684x6e9TrsLZQYJ/L8ulPP3R9KIfvVDZslZFqJEcdFYjg7hyP8AP60VK/AFFa2uc9z/2Q==\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/964d9b031e8963e5d845831ed00ec821/5C359692/t51.2885-15/sh0.08/e35/c0.65.1080.1080/s640x640/38236747_283239519125677_4147754637639811072_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/3abd4316cd3859c98d3bbb214ad08560/5C300FFA/t51.2885-15/e35/c0.65.1080.1080/s150x150/38236747_283239519125677_4147754637639811072_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/518d64dcf87dec441360d8990b8e911f/5C284CB0/t51.2885-15/e35/c0.65.1080.1080/s240x240/38236747_283239519125677_4147754637639811072_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/c616408d0b9219c218e5db3a4f7a1b3d/5C34AC0A/t51.2885-15/e35/c0.65.1080.1080/s320x320/38236747_283239519125677_4147754637639811072_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/9d4c280ddb4053811fbecb3b0209c435/5C321350/t51.2885-15/e35/c0.65.1080.1080/s480x480/38236747_283239519125677_4147754637639811072_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/964d9b031e8963e5d845831ed00ec821/5C359692/t51.2885-15/sh0.08/e35/c0.65.1080.1080/s640x640/38236747_283239519125677_4147754637639811072_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}},{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1837833353211318205\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"Sweeeeeet \u003c3\"}}]},\"shortcode\":\"BmBS7KOho-9\",\"edge_media_to_comment\":{\"count\":4},\"comments_disabled\":false,\"taken_at_timestamp\":1533306830,\"dimensions\":{\"height\":1080,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/39b49c6791802d678a6bdad69cd3792f/5C1767EE/t51.2885-15/e35/37679431_1640806142711898_7418438857076506624_n.jpg\",\"edge_liked_by\":{\"count\":18},\"edge_media_preview_like\":{\"count\":18},\"gating_info\":null,\"media_preview\":\"ACoq31IbkYIPeo5rqGAgSEKT29vX6Uy2P7pMc8Vm3H+vYkAk4GD6Acf/AF/rUspK7saF7ciGLem35iAGPI55z79OKh0+6NxlWKvgZ3AY5z0P/wBaq42y2zxuAqr9368tgfj6djSWM6QoWf5QcZ+vTt60h23NiQALTRCCM1GJ45l+Rg30P9OtQnUYUO0k5Xg8HtQSTRZCLiqEto8jE7sBu/cVatmAhTJ68Zx1OTUzKDxk88dKfQq7TucrcMwfGcAcr7fh7+veknMgwHwAQGGOh9/r2PpW7PpSTYyxBUYyAOR7/SnjTkMYiclguccAEZ+lBXNqY2l/8fKj1DfyqWa3jZ2Jcglicccc1rW1klsRgkn3AoYrk8L19BQ3YStJ6ktupjhVc4Iz2z3NSB8HqT/wH+tIfuD60zJp2M7k28H1pd4qtKSF4qReQPpQMmU5rn5ISXY7j1Pr61uJ1FZrdT9aTKi2tj//2Q==\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/5e2541e9720657378c8f67ccd662a69d/5C2F2E54/t51.2885-15/sh0.08/e35/s640x640/37679431_1640806142711898_7418438857076506624_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/8f6b4be2a5c3e14270e421a8383fe093/5C17BDD1/t51.2885-15/e35/s150x150/37679431_1640806142711898_7418438857076506624_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/b3a4a7fa54f35ceb5ce70693733c8260/5C2B54D7/t51.2885-15/e35/s240x240/37679431_1640806142711898_7418438857076506624_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/ef6af348b8a331ea0c0caff81a155cee/5C2002A9/t51.2885-15/e35/s320x320/37679431_1640806142711898_7418438857076506624_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/3bed30bb20e300fc38e921c00aa592c0/5C15E7EE/t51.2885-15/e35/s480x480/37679431_1640806142711898_7418438857076506624_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/5e2541e9720657378c8f67ccd662a69d/5C2F2E54/t51.2885-15/sh0.08/e35/s640x640/37679431_1640806142711898_7418438857076506624_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}},{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1835688830700001687\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"Festivalg\u00f6nnung hart\"}}]},\"shortcode\":\"Bl5rUQABpmX\",\"edge_media_to_comment\":{\"count\":0},\"comments_disabled\":false,\"taken_at_timestamp\":1533051183,\"dimensions\":{\"height\":480,\"width\":480},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/e0fe9c0f449f5ef388b777a93c8c8059/5C1488A5/t51.2885-15/e35/37330972_205179516842723_5205702226214912000_n.jpg\",\"edge_liked_by\":{\"count\":11},\"edge_media_preview_like\":{\"count\":11},\"gating_info\":null,\"media_preview\":\"ACoqim8sxZbl8+vfPPHSoJ7iMyEgEqT+R9fxNQO3mMFHToP8frV+20l5huc7F7dyf8P5+1ZJW3NpO+2xQ+0Y6CpI7kKeR1Ht+o/+vW4mk2ygqylj6knP6ECmPpNuem5fo3+OaG0RqUEfeMqfy6/X2/lR+99/8/jUF1ZyWLblO5CcZ/ow/wA/hTheLjoPy/8Ar0W7Dv3Ira33kyMcBT0Hf/D9a3rS4Cqcjaq88e5/rWJZNh9h9f5VtIFOVxkVjOfLLU2iouOqJpp1G1gCwdtuRnIJ6HHccc+lRyMf4eT/AF96iV1ifjJA6r2/OrioGGV4HYUP3kO3J3t0K0sYuF2P3GAe4PHP54rmXjdGKlTlSQfwrq0Hz9MY6msiW9BdiASCTj5R0zV072dzKdr6GazYbK8YrZtNQAGJRxx8wH8+9ZB4qSLpWygp6MxlNxV0dAPs7tvDLg9RkUr30KNtPKgcFSDn2wP61lIoPUA/hU0qhVGBjkdPrV+yt1/Aj2zla68tx8t00/GNiE8jPzMPTI6D171UJXPAx+BqRz85qKsDoP/Z\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/e0fe9c0f449f5ef388b777a93c8c8059/5C1488A5/t51.2885-15/e35/37330972_205179516842723_5205702226214912000_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/43eba1cc9922b5c48776dd2d419f1f20/5C33E8E7/t51.2885-15/e35/s150x150/37330972_205179516842723_5205702226214912000_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/a930670008405eb53c12cb76aa651fa2/5C33AFAD/t51.2885-15/e35/s240x240/37330972_205179516842723_5205702226214912000_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/5548f8458fab7f46666f150e49d74e24/5C296017/t51.2885-15/e35/s320x320/37330972_205179516842723_5205702226214912000_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/e0fe9c0f449f5ef388b777a93c8c8059/5C1488A5/t51.2885-15/e35/37330972_205179516842723_5205702226214912000_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/e0fe9c0f449f5ef388b777a93c8c8059/5C1488A5/t51.2885-15/e35/37330972_205179516842723_5205702226214912000_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}},{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1810960707228019624\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"#hurricanefestival #hurricane #festival\"}}]},\"shortcode\":\"Bkh0ysYhCuo\",\"edge_media_to_comment\":{\"count\":1},\"comments_disabled\":false,\"taken_at_timestamp\":1530103361,\"dimensions\":{\"height\":1032,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/7800dd5661e7ea7c252d9585fd471338/5C2E2ADE/t51.2885-15/e35/35518596_2171797346180249_18269815919607808_n.jpg\",\"edge_liked_by\":{\"count\":37},\"edge_media_preview_like\":{\"count\":37},\"gating_info\":null,\"media_preview\":\"ACoo0PtCZx3p4lB4waqB/LHptYfiDwD/AENJJc8ZAAwep9/yqE7lNWLu/wBjSGUDkg4Hf/PNUJHYNsdoweO3Tryc9P8A69JDIZM5bJU464H6Yz0p3EaBk7DripKypk3N8pZMc56jjpj/ADzVV7YsxO48knvTuFhHkxyM8gA59CBT/up8wGP644/CpSwb8uc/4mobdHkbkZGCTk1F+uxZEyedlmOWxycenFTW4EfPXp19snsatPGYxk4x04qHaG+lLmuOxOs3mMeCvpxkf/WpxYA4JGarEgcDj9f0phdCc4PNAWJen09KlgYAksQOPWiiofYosM6MCNw596pbwaKKUVYSFLHijd9KKKoZ/9k=\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/46c85df9b1c987f599f191bc9eef555a/5C18B8A6/t51.2885-15/sh0.08/e35/c24.0.1032.1032/s640x640/35518596_2171797346180249_18269815919607808_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/99964679a97675463e26ca290d6c1611/5C220253/t51.2885-15/e35/c24.0.1032.1032/s150x150/35518596_2171797346180249_18269815919607808_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/a1851d8ed558856cdecd3dd77ab1b93d/5C37D3E6/t51.2885-15/e35/c24.0.1032.1032/s240x240/35518596_2171797346180249_18269815919607808_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/7f55c013ccf81fd04a977c5fbaeabba7/5C34035E/t51.2885-15/e35/c24.0.1032.1032/s320x320/35518596_2171797346180249_18269815919607808_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/9856bafc29ce8452ba12271ff12d3646/5C190102/t51.2885-15/e35/c24.0.1032.1032/s480x480/35518596_2171797346180249_18269815919607808_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/46c85df9b1c987f599f191bc9eef555a/5C18B8A6/t51.2885-15/sh0.08/e35/c24.0.1032.1032/s640x640/35518596_2171797346180249_18269815919607808_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}},{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1776261232385249322\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"@flunkyball_allstars @hoshidude69 #flunkyball #flunkyballwm #flunkyballwm2018 #vatertag #elmshorn #hamburg #suff #fitness #workout #motivation #picoftheday #marathon #lifestyle #drinkhappy #instagood #happy\"}}]},\"shortcode\":\"BimjC4IntAq\",\"edge_media_to_comment\":{\"count\":1},\"comments_disabled\":false,\"taken_at_timestamp\":1525966861,\"dimensions\":{\"height\":1080,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/b36c944e75a8e3125c11fc44620e6c94/5C2466F5/t51.2885-15/e35/32135491_1972795979703064_954108069770428416_n.jpg\",\"edge_liked_by\":{\"count\":33},\"edge_media_preview_like\":{\"count\":33},\"gating_info\":null,\"media_preview\":null,\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/d1ab541fd596e3938841f2123f762e99/5C320D10/t51.2885-15/sh0.08/e35/s640x640/32135491_1972795979703064_954108069770428416_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/7e8ef13fb9864eb5a9d3a9b308dd41a3/5C30FAB7/t51.2885-15/e35/s150x150/32135491_1972795979703064_954108069770428416_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/8725de08a29dbe420f7e095149aa7887/5C2C5FFD/t51.2885-15/e35/s240x240/32135491_1972795979703064_954108069770428416_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/09f80cc0733b59f5a3479e4493f2ce81/5C322547/t51.2885-15/e35/s320x320/32135491_1972795979703064_954108069770428416_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/6619e2598ae4dd090306ac3ce83dbf0f/5C1C801D/t51.2885-15/e35/s480x480/32135491_1972795979703064_954108069770428416_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/d1ab541fd596e3938841f2123f762e99/5C320D10/t51.2885-15/sh0.08/e35/s640x640/32135491_1972795979703064_954108069770428416_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}},{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1768380677642108969\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"In K\u00f6ln gewesen mit Vanessa und Timmy vor 'nem Monat. #photography #friends #inspiration #happy #sundayfunday #instagood #goals #picoftheday (boah sind das alles Kack hashtags :D)\"}}]},\"shortcode\":\"BiKjNtmhcAp\",\"edge_media_to_comment\":{\"count\":0},\"comments_disabled\":false,\"taken_at_timestamp\":1525027425,\"dimensions\":{\"height\":992,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/9192d8f5925bd51e625680eb80748508/5C228622/t51.2885-15/e35/31007011_423077508154584_8868480585698377728_n.jpg\",\"edge_liked_by\":{\"count\":18},\"edge_media_preview_like\":{\"count\":18},\"gating_info\":null,\"media_preview\":\"AComgVAi7cgAYLe7H/Dp2/GpI4jK2Izntx/n/IrQghQbppeR2yM9Twe/4USLHEd0fyMOoHHB9v5VqpWlbpsOb0stl+hTaMocH6VGQAcH7p4P4/l07foKlcvM2I1Bx1ycc/55/GpYIWmzkshBAIHPI98jjGCODxVyav8An2M4OS32MKSJozhhgZIz649KjxW/La72ZgpdefmJGfwHoPzpy6RkAgrgjuOfxrnLF0y73w+U5G5Tgf7vGP8AD6VUv7w5wpw5PUdh05rJgn8o8jIPX1+o96kuCA4PB4ByO4JOP0oA1bNspkZLZIJz69z+HSohdmGdtuWBG3/gR4DH9apRStGSV6MOnv8A096rmUp0655P+FAHUouYwuWwcHg/y9v8mnfao14LLxxWTBfFIxjG4djn+Q4Pr1FUzz1NAFPBFMoooAnz3qFaKKAJY2ww9DxVncaKKAP/2Q==\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/5e2bd2dc9ed5f104603e421098de701a/5C2E647D/t51.2885-15/sh0.08/e35/c44.0.992.992/s640x640/31007011_423077508154584_8868480585698377728_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/487f2bf4cca223f867f93cae8564a012/5C34BD34/t51.2885-15/e35/c44.0.992.992/s150x150/31007011_423077508154584_8868480585698377728_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/be1f3cbadb3cfd187d2c3a59672e907c/5C375D7E/t51.2885-15/e35/c44.0.992.992/s240x240/31007011_423077508154584_8868480585698377728_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/9e54fdf5884b6983ff536a6cfb3c018b/5C3124C4/t51.2885-15/e35/c44.0.992.992/s320x320/31007011_423077508154584_8868480585698377728_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/6ada8ce8f60c114460ef85f6b219f0ca/5C30C29E/t51.2885-15/e35/c44.0.992.992/s480x480/31007011_423077508154584_8868480585698377728_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/5e2bd2dc9ed5f104603e421098de701a/5C2E647D/t51.2885-15/sh0.08/e35/c44.0.992.992/s640x640/31007011_423077508154584_8868480585698377728_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}},{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1749487047116305807\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"Stuttgart und K\u00f6ln unsicher gemacht mit meinem Besten @twiesenmueller. War ein geiles we! \u003c3 #pureBesterSchuppenInStuttgart #nicht\"}}]},\"shortcode\":\"BhHbTM-g7WP\",\"edge_media_to_comment\":{\"count\":1},\"comments_disabled\":false,\"taken_at_timestamp\":1522775129,\"dimensions\":{\"height\":1079,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/be362dabda072f3cf994760d96bcd0e0/5C1F453A/t51.2885-15/e35/29403963_2035514290044667_9033600457364209664_n.jpg\",\"edge_liked_by\":{\"count\":19},\"edge_media_preview_like\":{\"count\":19},\"gating_info\":null,\"media_preview\":\"ACopvFf0qLegOMjNXnhO0n2/p2rMKxgAGM8YXOO/r6496yNFqWSPlJHXBxVWLYy87nkONzZ+6T09AB+fvUlvKqqFY8+meetZ/ngucA7AeAD1Hof8+lMEaCOudrEBumPp3H161LWXK43AAc53euMCovOY8/Lz9f8AGiw+W5p3OomONUhYb+M8Z4x+XWs77S3LDPA5PaqQ4+op2ScIO56etVYhOxaFwrLuC4fPzY/+v/KoVIjfDcr1/A9f8+tTfYCM5zkZ56cj0B6iqrMWHPWgtaq3ValmQL5vycjaB+J/+tUm2P2qlGM84447e9PJP90/lSNo6IiIUnOaIpVjkVj91TnmoKSqOU2Zb4NnBOT+X+f85qohCgMOSBVQVMvSlaxrF3ZObk/Sm/aD/k0xqr0jRyaP/9k=\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/d5397eddfa8dacd2ee409886555bbe88/5C302579/t51.2885-15/sh0.08/e35/c0.0.1079.1079/s640x640/29403963_2035514290044667_9033600457364209664_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/a580e08ff18a3435c8f6800578eaba06/5C3AEA4D/t51.2885-15/e35/c0.0.1079.1079/s150x150/29403963_2035514290044667_9033600457364209664_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/5cb9eb53a56242f83edb5b473da7df10/5C3A814B/t51.2885-15/e35/c0.0.1079.1079/s240x240/29403963_2035514290044667_9033600457364209664_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/d2776a25b94f5f98f323eced8594831d/5C318535/t51.2885-15/e35/c0.0.1079.1079/s320x320/29403963_2035514290044667_9033600457364209664_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/5555851b68acd965f2beea24e474071a/5C185172/t51.2885-15/e35/c0.0.1079.1079/s480x480/29403963_2035514290044667_9033600457364209664_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/d5397eddfa8dacd2ee409886555bbe88/5C302579/t51.2885-15/sh0.08/e35/c0.0.1079.1079/s640x640/29403963_2035514290044667_9033600457364209664_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}}]";
            this.jsonOneImage = "{\"__typename\":\"GraphImage\",\"id\":\"1859593211102936307\",\"shortcode\":\"BnOmixGhLzz\",\"dimensions\":{\"height\":1350,\"width\":1080},\"gating_info\":null,\"media_preview\":\"ACEqlmVVwqjcx/hH6E+n49qh3sBtLsxHJVPur/vN3qKNxEDvJZjyQP5s39P0qZiQw6KuACucZX3HYnioV3o9jVR6q1/uX49fT7x0bK3LDb2xx36YBH8vzprw7/u49P8AOT/LNT5CrgEY/wBrg+2RyOncfjVKQEd8g8ZBBHvkjp/hWll0f3gpuLs9PT9Uxfsb+v8AOikwfVf++h/hRU2fdfc/8y/av+b8F/kRwIQMYGTzg/jz6/mKmEcY5f8AP3/Qj9asKWdRkKxA9s/XIwc49DTBsz1IH8Q5IGemQef8aL9/6/QFK+i+636rX8BjSOowDvTOBnkfmcf0ps2QMEAAHOMEH9f58/WpXt1cAKyMB0wcHn1B/wA44qGRQVKZLnOcehHB4HHSnden9f12Jtqklfuuq89f+CVNy0U7yT/zzb9aKXMu6/r5mt12/wDSf/kR0MiYwSUOcjuv4jr+IqWJzvPmZKkbQRyPrk9u/PTjjNZy1PGxHQkUJ30LlBW5v6+/cs3A2sQGXDYIC8jHuOg6c+/PSlafC4DbcAckkZ/AD8xn0qKX5cEcHanT6VAWJJySaqy6nK0S7x/fT9aKr0VRFl/Vj//Z\",\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/559fe5caf0273d1f0032cd962bb9ca09/5C3BCAA4/t51.2885-15/e35/40747690_739744336373924_2008795589189304320_n.jpg\",\"display_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/ad4725cb4a41564d5793687b8ffcd395/5C282052/t51.2885-15/sh0.08/e35/p640x640/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":640,\"config_height\":800},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/68d141bffc6bf56f230fd6f079fbf62a/5C22F052/t51.2885-15/sh0.08/e35/p750x750/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":750,\"config_height\":937},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/559fe5caf0273d1f0032cd962bb9ca09/5C3BCAA4/t51.2885-15/e35/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":1080,\"config_height\":1350}],\"accessibility_caption\":null,\"is_video\":false,\"should_log_client_event\":false,\"tracking_token\":\"eyJ2ZXJzaW9uIjo1LCJwYXlsb2FkIjp7ImlzX2FuYWx5dGljc190cmFja2VkIjpmYWxzZSwidXVpZCI6IjEzMzg0NWI0ZGE2ZDQ2YzY4ZTNkYjJhZmQyZDhjZGRjMTg1OTU5MzIxMTEwMjkzNjMwNyIsInNlcnZlcl90b2tlbiI6IjE1MzYzNTM4MTE5MDd8MTg1OTU5MzIxMTEwMjkzNjMwN3w1MTYwMzAzMHxhMTFhZTI2YTdkZDU2NGRhMmVkMDVkNjI5ZmM2MTE0ZjQ4YzZhZWUzMTA0YWU1ZDU5MjhkMzMwYzBjN2MwMTJhIn0sInNpZ25hdHVyZSI6IiJ9\",\"edge_media_to_tagged_user\":{\"edges\":[]},\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"FUCK! #doppelt Schon wieder 1 sch\u00f6ner Festiwal Sommer vorbei. ^.^#hurricanefestival #hurricane #doppelt #test:) #bla\"}}]},\"caption_is_edited\":false,\"has_ranked_comments\":false,\"edge_media_to_comment\":{\"count\":4,\"page_info\":{\"has_next_page\":false,\"end_cursor\":null},\"edges\":[{\"node\":{\"id\":\"17915396320205892\",\"text\":\"\ud83d\ude0d\ud83d\ude0dRespekt\",\"created_at\":1535914028,\"owner\":{\"id\":\"1242452287\",\"profile_pic_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/c6ef51d87d64be887c3f4d19f047bba6/5C25A887/t51.2885-19/s150x150/15305912_590701741130769_8624826111743754240_a.jpg\",\"username\":\"linajo_ft\"},\"viewer_has_liked\":true,\"edge_liked_by\":{\"count\":1}}},{\"node\":{\"id\":\"17966924284079396\",\"text\":\"Wo ist das #tml! Lederband??#Tomorrowland\",\"created_at\":1535915264,\"owner\":{\"id\":\"17052236\",\"profile_pic_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/1d2559cc0b6d55bdce91bd87009d2932/5C1B9EFA/t51.2885-19/s150x150/38436457_959682847550901_8411232281397559296_n.jpg\",\"username\":\"gina_globetrotter\"},\"viewer_has_liked\":true,\"edge_liked_by\":{\"count\":1}}},{\"node\":{\"id\":\"17955249307082596\",\"text\":\"Ich seh unser b\u00e4ndchen von 2014 \ud83d\ude0d\",\"created_at\":1535955467,\"owner\":{\"id\":\"526836007\",\"profile_pic_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/fbbdac86f112f48e5d04259e65c8bb48/5C2DAF17/t51.2885-19/s150x150/15056740_970603243085913_6971859144164769792_a.jpg\",\"username\":\"lucas_hssl\"},\"viewer_has_liked\":true,\"edge_liked_by\":{\"count\":1}}},{\"node\":{\"id\":\"17948414212146963\",\"text\":\"@gina_globetrotter eingepackt in#test #test#test der @personTest \u00f6den Box#hashtagZumTesten :D\",\"created_at\":1536044743,\"owner\":{\"id\":\"51603030\",\"profile_pic_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/32fc5db00efab28c5574382fed00a500/5C2FBDEF/t51.2885-19/s150x150/14073272_196937750720784_1156034781_a.jpg\",\"username\":\"the_dario_\"},\"viewer_has_liked\":false,\"edge_liked_by\":{\"count\":0}}}]},\"comments_disabled\":false,\"taken_at_timestamp\":1535900807,\"edge_media_preview_like\":{\"count\":22,\"edges\":[]},\"edge_media_to_sponsor_user\":{\"edges\":[]},\"location\":{\"id\":\"108433841\",\"has_public_page\":true,\"name\":\"Hurricane Festival\",\"slug\":\"hurricane-festival\"},\"viewer_has_liked\":false,\"viewer_has_saved\":false,\"viewer_has_saved_to_collection\":false,\"viewer_in_photo_of_you\":false,\"owner\":{\"id\":\"51603030\",\"profile_pic_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/32fc5db00efab28c5574382fed00a500/5C2FBDEF/t51.2885-19/s150x150/14073272_196937750720784_1156034781_a.jpg\",\"username\":\"the_dario_\",\"blocked_by_viewer\":false,\"followed_by_viewer\":false,\"full_name\":\"Dario\",\"has_blocked_viewer\":false,\"is_private\":false,\"is_unpublished\":false,\"is_verified\":false,\"requested_by_viewer\":false},\"is_ad\":false,\"edge_web_media_to_related_media\":{\"edges\":[]},\"share_ids\":null}";
            this.nodes = JsonConvert.DeserializeObject(json);
            //requestHandler.FetchNode("test").Returns(jsonObj);
            //this.crawler = new UserPageCrawler(settings, requestHandler);


            var requestHandler = Substitute.For<IRequestHandler>();
            this.settings = new CrawlerSettings();
            this.logic = new ImagePageLogic(this.settings, requestHandler);
        }

        [Test]
        public void ThenNull_ShouldReturnEmptyList()
        {
            dynamic nodes = null;

            var images = this.logic.GetImages(nodes);

            Assert.NotNull(images);
            Assert.IsEmpty(images);
        }

        [Test]
        public void ThenNodesHaveNotAnyChildren_ShouldReturnEmptyList()
        {
            var jsonEmpty = "[]";
            dynamic nodesEmpty = JsonConvert.DeserializeObject(jsonEmpty);

            var images = this.logic.GetImages(nodesEmpty);

            Assert.NotNull(images);
            Assert.IsEmpty(images);
        }

        [Test]
        public void ThenNodeChildrenWhichIsEmpty_ShouldReturnEmptyList()
        {
            var jsonEmpty = "[{\"node\":{}}]";
            dynamic nodesEmpty = JsonConvert.DeserializeObject(jsonEmpty);

            var images = this.logic.GetImages(nodesEmpty);

            Assert.NotNull(images);
            Assert.IsEmpty(images);
        }

        [Test]
        public void ThenEdgeMediaToCaptionWhichIsEmpty_ShouldReturnEmptyList()
        {
            var jsonEmpty = "[{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1859593211102936307\",\"edge_media_to_caption\":{}}}]";
            dynamic nodesEmpty = JsonConvert.DeserializeObject(jsonEmpty);

            var images = this.logic.GetImages(nodesEmpty);

            Assert.NotNull(images);
            Assert.IsEmpty(images);
        }

        [Test]
        public void ThenInsertNodesWith12Images_ShouldReturnAllImagesAsList()
        {
            IEnumerable<IImage> images = this.logic.GetImages(this.nodes);

            Assert.AreEqual(12, images.Count());
        }

        [Test]
        public void ThenOneImageFromUserPage_ShouldReturnExpectedData()
        {
            var jsonOneImage = "[{\"node\":{\"__typename\":\"GraphImage\",\"id\":\"1859593211102936307\",\"edge_media_to_caption\":{\"edges\":[{\"node\":{\"text\":\"FUCK! Schon wieder 1 sch\u00f6ner Festiwal Sommer vorbei. Und es war sooo GEIL! ^.^ Ihr seit alle so fertig und komplett im Arsch! Danke liebe Alle, die mit am Start waren, und die ich kennen gelernt habe :) #hierNochnKlischeeSpruchEinf\u00fcgen\"}}]},\"shortcode\":\"BnOmixGhLzz\",\"edge_media_to_comment\":{\"count\":4},\"comments_disabled\":false,\"taken_at_timestamp\":1535900807,\"dimensions\":{\"height\":1350,\"width\":1080},\"display_url\":\"https://scontent-frx5-1.cdninstagram.com/vp/559fe5caf0273d1f0032cd962bb9ca09/5C3BCAA4/t51.2885-15/e35/40747690_739744336373924_2008795589189304320_n.jpg\",\"edge_liked_by\":{\"count\":22},\"edge_media_preview_like\":{\"count\":22},\"gating_info\":null,\"media_preview\":\"ACEqlmVVwqjcx/hH6E+n49qh3sBtLsxHJVPur/vN3qKNxEDvJZjyQP5s39P0qZiQw6KuACucZX3HYnioV3o9jVR6q1/uX49fT7x0bK3LDb2xx36YBH8vzprw7/u49P8AOT/LNT5CrgEY/wBrg+2RyOncfjVKQEd8g8ZBBHvkjp/hWll0f3gpuLs9PT9Uxfsb+v8AOikwfVf++h/hRU2fdfc/8y/av+b8F/kRwIQMYGTzg/jz6/mKmEcY5f8AP3/Qj9asKWdRkKxA9s/XIwc49DTBsz1IH8Q5IGemQef8aL9/6/QFK+i+636rX8BjSOowDvTOBnkfmcf0ps2QMEAAHOMEH9f58/WpXt1cAKyMB0wcHn1B/wA44qGRQVKZLnOcehHB4HHSnden9f12Jtqklfuuq89f+CVNy0U7yT/zzb9aKXMu6/r5mt12/wDSf/kR0MiYwSUOcjuv4jr+IqWJzvPmZKkbQRyPrk9u/PTjjNZy1PGxHQkUJ30LlBW5v6+/cs3A2sQGXDYIC8jHuOg6c+/PSlafC4DbcAckkZ/AD8xn0qKX5cEcHanT6VAWJJySaqy6nK0S7x/fT9aKr0VRFl/Vj//Z\",\"owner\":{\"id\":\"51603030\"},\"thumbnail_src\":\"https://scontent-frx5-1.cdninstagram.com/vp/68fb2fb26a09968b6ae9f35f012ab5e3/5C2584E7/t51.2885-15/sh0.08/e35/c0.135.1080.1080/s640x640/40747690_739744336373924_2008795589189304320_n.jpg\",\"thumbnail_resources\":[{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/a65a5887937c34997c139cf0094568ae/5C26BDFC/t51.2885-15/e35/c0.135.1080.1080/s150x150/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":150,\"config_height\":150},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/e728d46f9ccbfcec69b8d9d285f96548/5C2688B6/t51.2885-15/e35/c0.135.1080.1080/s240x240/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":240,\"config_height\":240},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/58f7c86361ad60e0ebde86d485db59fb/5C16DE0C/t51.2885-15/e35/c0.135.1080.1080/s320x320/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":320,\"config_height\":320},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/891245818c984c08c782fb306ea2fc89/5C35D056/t51.2885-15/e35/c0.135.1080.1080/s480x480/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":480,\"config_height\":480},{\"src\":\"https://scontent-frx5-1.cdninstagram.com/vp/68fb2fb26a09968b6ae9f35f012ab5e3/5C2584E7/t51.2885-15/sh0.08/e35/c0.135.1080.1080/s640x640/40747690_739744336373924_2008795589189304320_n.jpg\",\"config_width\":640,\"config_height\":640}],\"is_video\":false,\"accessibility_caption\":null}}]";
            var nodes = JsonConvert.DeserializeObject(jsonOneImage);
            var expectedImage = new Image
            {
                Likes        = 22,
                CommentCount = 4,
                Comments     = Enumerable.Empty<string>(),
                Shortcode    = "BnOmixGhLzz",
                LargeUrl     = "https://scontent-frx5-1.cdninstagram.com/vp/559fe5caf0273d1f0032cd962bb9ca09/5C3BCAA4/t51.2885-15/e35/40747690_739744336373924_2008795589189304320_n.jpg",
                ThumbUrl     = "https://scontent-frx5-1.cdninstagram.com/vp/68fb2fb26a09968b6ae9f35f012ab5e3/5C2584E7/t51.2885-15/sh0.08/e35/c0.135.1080.1080/s640x640/40747690_739744336373924_2008795589189304320_n.jpg",
                Uploaded     = new DateTime(2018, 9, 2, 15, 06, 47).ToLocalTime(),
                HumanoidTags = new List<string> { "hiernochnklischeesprucheinfügen" }
            };
            var expectedJson = JsonConvert.SerializeObject(expectedImage);

            IEnumerable<IImage> images = this.logic.GetImages(nodes);
            var resultJson = JsonConvert.SerializeObject(images.FirstOrDefault());

            Assert.AreEqual(expectedJson, resultJson);
        }

        [Test]
        public void ThenImageFromDetailPage_ShouldContainsExpectedData()
        {
            var node = JsonConvert.DeserializeObject(this.jsonOneImage);
            var expectedLargeUrl = "https://scontent-frx5-1.cdninstagram.com/vp/559fe5caf0273d1f0032cd962bb9ca09/5C3BCAA4/t51.2885-15/e35/40747690_739744336373924_2008795589189304320_n.jpg";
            var expectedThumbUrl = "https://scontent-frx5-1.cdninstagram.com/vp/ad4725cb4a41564d5793687b8ffcd395/5C282052/t51.2885-15/sh0.08/e35/p640x640/40747690_739744336373924_2008795589189304320_n.jpg";
            var expectedMessage  = "FUCK! #doppelt Schon wieder 1 sch\u00f6ner Festiwal Sommer vorbei. ^.^#hurricanefestival #hurricane #doppelt #test:) #bla";
            var expectedUploaded = new DateTime(2018, 9, 2, 15, 06, 47).ToLocalTime();

            var expectedHumanoidTags = new List<string>
            {
                "doppelt", "hurricanefestival", "hurricane", "test",
                "bla", "tml", "tomorrowland", "hashtagzumtesten"
            };
            var expectedHumanoidTagsJson = JsonConvert.SerializeObject(expectedHumanoidTags);

            IEnumerable<IImage> images = this.logic.GetImage(node);
            var image = images.FirstOrDefault();
            var actualHumanoidTagsJson = JsonConvert.SerializeObject(image.HumanoidTags);

            Assert.AreEqual(22, image.Likes);
            Assert.AreEqual(4, image.CommentCount);
            Assert.AreEqual("BnOmixGhLzz", image.Shortcode);
            Assert.AreEqual(expectedHumanoidTags.Count, image.HumanoidTags.Count());
            Assert.AreEqual(expectedHumanoidTagsJson, actualHumanoidTagsJson);
            Assert.AreEqual(expectedLargeUrl, image.LargeUrl);
            Assert.AreEqual(expectedThumbUrl, image.ThumbUrl);
            Assert.AreEqual(expectedMessage, image.Message);
            Assert.AreEqual(expectedUploaded, image.Uploaded);
        }

        [Test]
        public void ThenImageFromDetailPage_ShouldContainsComments()
        {
            var node = JsonConvert.DeserializeObject(this.jsonOneImage);
            var expectedComments = new List<string>
            {
                "\ud83d\ude0d\ud83d\ude0dRespekt",
                "Wo ist das #tml! Lederband??#Tomorrowland",
                "Ich seh unser b\u00e4ndchen von 2014 \ud83d\ude0d",
                "@gina_globetrotter eingepackt in#test #test#test der @personTest \u00f6den Box#hashtagZumTesten :D"
            };
            var expectedCommentsJson = JsonConvert.SerializeObject(expectedComments);

            IEnumerable<IImage> images = this.logic.GetImage(node);
            var image  = images.FirstOrDefault();
            var actualCommentsJson = JsonConvert.SerializeObject(image.Comments);

            Assert.AreEqual(4, image.CommentCount);
            Assert.AreEqual(expectedCommentsJson, actualCommentsJson);
        }

        [Test]
        public void ThenImageFromDetailPage_ShouldContainsLocation()
        {
            var node = JsonConvert.DeserializeObject(this.jsonOneImage);
            var expectedLocation = new Location
            {
                Id            = 108433841,
                HasPublicPage = true,
                Name          = "Hurricane Festival",
                Slug          = "hurricane-festival"
            };
            var expectedLocationJson = JsonConvert.SerializeObject(expectedLocation);

            IEnumerable<IImage> images = this.logic.GetImage(node);
            var image  = images.FirstOrDefault();
            var actualLocationJson = JsonConvert.SerializeObject(image.Location);

            Assert.AreEqual(4, image.CommentCount);
            Assert.AreEqual(expectedLocationJson, actualLocationJson);
        }

    }
}
